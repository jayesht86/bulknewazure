Error: Missing required argument
│
│   with azurerm_virtual_machine_data_disk_attachment.disk_attachment["eu1pcd212 + ddsk-01-eu1pcd212"],        
│   on main-disk-attachment.tf line 4, in resource "azurerm_virtual_machine_data_disk_attachment" "disk_attachment":
│    4:   managed_disk_id           = try(module.compute-managed_disk.managed_disks_list[each.value.disk].id, null)
│
│ The argument "managed_disk_id" is required, but no definition was found.
╵
╷
│ Error: Missing required argument
│
│   with azurerm_virtual_machine_data_disk_attachment.disk_attachment["eu1pcd313 + ddsk-01-eu1pcd313"],        
│   on main-disk-attachment.tf line 4, in resource "azurerm_virtual_machine_data_disk_attachment" "disk_attachment":
│    4:   managed_disk_id           = try(module.compute-managed_disk.managed_disks_list[each.value.disk].id, null)
│
│ The argument "managed_disk_id" is required, but no definition was found.
╵
╷
│ Error: Missing required argument
│
│   with azurerm_virtual_machine_data_disk_attachment.disk_attachment["eu1pcd111 + ddsk-01-eu1pcd111"],        
│   on main-disk-attachment.tf line 4, in resource "azurerm_virtual_machine_data_disk_attachment" "disk_attachment":
│    4:   managed_disk_id           = try(module.compute-managed_disk.managed_disks_list[each.value.disk].id, null)
│
│ The argument "managed_disk_id" is required, but no definition was found.

resource "azurerm_virtual_machine_data_disk_attachment" "disk_attachment" {
  for_each = local.disk_attachments2

  managed_disk_id           = try(module.compute-managed_disk.managed_disks_list[each.value.disk].id, null)
  virtual_machine_id        = try(one([for vm in azurerm_linux_virtual_machine.vm : vm.id if vm.name == each.value.vm]), null)
  lun                       = each.value.lun
  caching                   = each.value.cache
  create_option             = each.value.create_option
  write_accelerator_enabled = each.value.write_accelerator


}
Error: Unsupported attribute
│
│   on main-disk-attachment.tf line 4, in resource "azurerm_virtual_machine_data_disk_attachment" "disk_attachment":
│    4:   managed_disk_id           = each.value.managed_disk_id #try(module.compute-managed_disk.managed_disk_list[each.value.disk].id, null)
│     ├────────────────
│     │ each.value is object with 6 attributes
│
│ This object does not have an attribute named "managed_disk_id".
╵
╷
│ Error: Unsupported attribute
│
│   on main-disk-attachment.tf line 4, in resource "azurerm_virtual_machine_data_disk_attachment" "disk_attachment":
│    4:   managed_disk_id           = each.value.managed_disk_id #try(module.compute-managed_disk.managed_disk_list[each.value.disk].id, null)
│     ├────────────────
│     │ each.value is object with 6 attributes
│
│ This object does not have an attribute named "managed_disk_id".
╵
